<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text RPG Game</title>
    <link rel="stylesheet" href="gameSystem.css">
</head>
<body>    
    <!-- 個人資訊列表 背包 裝備 技能-->
    <div class="player-container">
        <!-- Player Info -->
        <div class="player-info">
            <h2 class="title">玩家資訊：</h2>
            <ul class="list">
                <li>Name: <span id="player-name">Alice</span></li>
                <li>Health: <span id="player-health">100</span></li>
                <li>Mana: <span id="player-mana">50</span></li>
                <li id="playTime"></li>
            </ul>
            <!-- 攻擊
            治癒 -->
            <button onclick="saveGameToLocal()">Save Game</button>
        </div>

        <!-- Backpack -->
        <div class="backpack">
            <h2 class="title">物品列表：</h2>
            <ul class="list" id="backpackList">
                <li data-item="sword">Sword</li>
                <li data-item="shield">Shield</li>
                <li data-item="potion">Potion</li>            </ul>
            </ul>
            <script>
                let selectedItem = [];  // 用来追踪当前选中的物品

                // 给每个物品添加点击事件监听器，实现选中功能
                document.querySelectorAll('#backpackList li').forEach(item => {
                    item.addEventListener('click', function() {
                        // 切换当前点击的物品选中状态
                        this.classList.toggle('selected');

                        // 更新 selectedItem，这里我们使用一个数组来追踪选中的物品
                        const itemName = this.dataset.item;
                        if (selectedItem.includes(itemName)) {
                            // 如果已经选中，则取消选中
                            selectedItem = selectedItem.filter(item => item !== itemName);
                        } else {
                            // 如果未选中，则添加到选中数组中
                            selectedItem.push(itemName);
                        }
                    });
                });

            </script>
            <button id="SelectionButton">全部選取</button>
            <button id="addItemButton">加入背包</button>
            <button id="removeItemButton">移除物品</button>
            <button id="useItemButton">使用物品</button>
            <button id="purchaseItemButton">購買物品</button>
            <script>
                // 用於追蹤是否所有物品都被選取的標誌
                let selectionButton = document.getElementById('SelectionButton');
                let allSelected = false;

                // 清空選取狀態的按鈕事件監聽器
                selectionButton.addEventListener('click', function() {
                    let items = document.querySelectorAll('#backpackList li'); // 假設您的列表項目是在ul#backpackList下的li元素
                    if (!allSelected) {
                        // 選擇所有的物品
                        items.forEach(function(li) {
                            li.classList.add('selected');
                        });
                        selectionButton.textContent = "清空選取";
                        allSelected = true;
                    } else {
                        // 清除所有選中的物品狀態
                        items.forEach(function(li) {
                            li.classList.remove('selected');
                        });
                        selectionButton.textContent = "全部選取";
                        allSelected = false;
                    }
                });

                // 给按钮添加点击事件监听器，实现使用物品功能
                document.getElementById('useItemButton').addEventListener('click', function() {
                    if (selectedItem) {
                        console.log(`使用物品：${selectedItem}`);
                        // 在这里实现使用物品的逻辑
                        // 比如更新玩家的状态，或是调用一个函数来处理物品效果
                        // useItem(selectedItem);

                        // 清除选中状态
                        document.querySelectorAll('#backpackList li').forEach(li => {
                            li.classList.remove('selected');
                        });
                        selectedItem = [];  // 重置选中的物品
                    } else {
                        console.log('没有选中任何物品');
                    }
                });
                // 加入背包按钮事件
                document.getElementById('addItemButton').addEventListener('click', function() {
                    console.log('加入背包按钮被点击');
                    // 这里实现加入背包的逻辑
                });

                // 移除按钮事件
                document.getElementById('removeItemButton').addEventListener('click', function() {
                    console.log('移除按钮被点击');
                    // 这里实现移除物品的逻辑
                });

                // 使用物品按钮事件
                document.getElementById('useItemButton').addEventListener('click', function() {
                    console.log('使用物品按钮被点击');
                    // 这里实现使用物品的逻辑
                });

                // 購買按钮事件
                document.getElementById('purchaseItemButton').addEventListener('click', function() {
                    console.log('購買按钮被点击');
                    // 这里实现购买物品的逻辑
                });

                // 售出按钮事件
                document.getElementById('sellItemButton').addEventListener('click', function() {
                    console.log('售出按钮被点击');
                    // 这里实现售出物品的逻辑
                });

            </script>
        </div>

        <!-- Skills -->
        <div class="skills">
            <h2 class="title">技能列表：</h2>
            <ul class="list">
                <li>Fireball</li>
                <li>Heal</li>
                <li>Stealth</li>
            </ul>
        </div>
    </div>

    <!-- 互動列表 儲值 製作 商店 銀行 地圖 市集 城市 公會 生物 物品 NPC 任務-->
    <div class="container">

        <section class="objects">
            <h2 class="title">互動列表：</h2>
            <ul class="list">
                <li>
                  物件
                    <div>
                        <button type="button">互动</button>
                    </div>
                </li>
                <li>
                  生物
                  <div>
                    <button type="button">攻击</button>
                    <button type="button">反击</button>
                  </div>
                </li>
                <li>
                  其他玩家
                  <div>
                    <button type="button">对话</button>
                    <button type="button">攻击</button>
                    <button type="button">互动</button>
                    <button type="button">其他</button>
                  </div>
                </li>
                <li>
                  商店
                  <div>
                    <button type="button">购买</button>
                    <button type="button">贩卖</button>
                  </div>
                </li>
                <li>
                  NPC
                  <div>

                  </div>
                  <button type="button">互动</button>
                </li>
              </ul>
              
        </section>
        <!-- 地圖列表 -->
        <section id="maps" class="maps">
            <h2 class="title">地圖列表：</h2>
            <ul class="list">
                <li data-description="探索古老的森林">古林</li>
                <li data-description="在這裡與海洋生物共游">珊瑚海</li>
                <li data-description="發現隱藏的寶藏和秘密">遺忘島嶼</li>
                <li data-description="與龍族溝通的神聖之地">龍谷</li>
                <li data-description="穿越這些危險的地域需要勇氣">黑暗荒原</li>
                <li data-description="豐饒而神秘的地方，充滿未知">迷霧森林</li>
            </ul>
        </section>
        
        <!-- 物件列表 -->
        <section id="objects" class="objects">
            <h2 class="title">可互動物件列表：</h2>
            <ul class="list">
                <li data-description="可能包含金幣、武器、藥水等">寶箱</li>
                <li data-description="可以取水或許願">井</li>
                <li data-description="獲取故事資訊或學習新技能">書架</li>
                <li data-description="閱讀歷史或獲得任務">石碑</li>
                <li data-description="需要鑰匙或解謎才能打開">門</li>
                <li data-description="製作藥水或魔法物品">炼金桌</li>
                <li data-description="獲取或更換武器">武器架</li>
                <li data-description="快速移動到其他地點">傳送門</li>
            </ul>
        </section>

        <!-- 互動生物列表 -->
        <section id="creature"  class="creature">
            <h2 class="title">可互動生物列表：</h2>
            <ul class="list">
                <li data-description="給予魔法能量或資訊">森林精靈</li>
                <li data-description="例如鹿、兔子，可以狩獵或馴養">野生動物</li>
                <li data-description="例如魚，可以釣魚">水中生物</li>
                <li data-description="可能是敵人或盟友，或是坐騎">龍</li>
            </ul>
        </section>

        <!-- NPC列表 -->
        <section id="npcs" class="npcs">
            <h2 class="title">NPC列表：</h2>
            <ul class="list">
                <li data-description="提供資訊或任務">村莊長老</li>
                <li data-description="提供住宿和補給">旅館老闆</li>
                <li data-description="教授新技能或升級技能">教練</li>
                <li data-description="有時提供小任務或秘密資訊">孩子</li>
                <li data-description="在某些情境中可能是友好的，或可能是阻礙">治安官或騎士</li>
                <li data-description="提供魔法物品或任務">巫師或魔法師</li>
            </ul>
        </section>

        <!-- 商店列表 -->
        <section id="shops" class="shops">
            <h2 class="title">商店列表：</h2>
            <ul class="list">
                <li data-description="買賣武器">武器店</li>
                <li data-description="買賣藥水、藥草">藥草店</li>
                <li data-description="購買魔法書或書籍">書店</li>
                <li data-description="購買或賣出寵物">寵物店</li>
                <li data-description="租房休息，恢復生命值和魔法值">旅館</li>
                <li data-description="買賣各種遊戲道具">道具店</li>
            </ul>
        </section>
        <!-- Repeat sections like above for each category -->
    </div>
    
    <!-- Chat 公會 信箱 通知 -->
    <div class="chat">
        <div class="chatRoom">
            <h2 class="title">Chat Room</h2>
            <textarea rows="10" readonly>說了一些話... 
    又說了一些話...</textarea>
            <br><br>
            <input type="text" placeholder="Type your message...">
            <button>Send</button>
        </div>

        <audio loop id="background-music" preload="auto">
            <source src="SaveTube.App - KING _ Furina (AI Cover) (128 kbps).mp3" type="audio/mp3" >
            Your browser does not support the audio element.
        </audio>
        <button id="playMusicButton">Play Music</button>
        <script>
            var playMusicButton = document.getElementById('playMusicButton');
            var backgroundMusic = document.getElementById('background-music');
    
            playMusicButton.addEventListener('click', function() {
                // 如果音乐已经在播放，这个按钮可以用来暂停音乐
                if (backgroundMusic.paused) {
                    backgroundMusic.play();
                } else {
                    backgroundMusic.pause();
                }
            });
        </script>
    
    </div>

    <!-- 
        其他功能列 浮動在畫面中

    -->
    <script src="gameSystem.js"></script>
    <script src="game.js"></script>
    <script src="backpack.js"></script>
    <script src="player.js"></script>
    <script src="States.js"></script>
    <script src="item.js"></script>
    <script src="test.js"></script>
    <script>
    // You can add interactive features or event listeners to your items here
    // document.addEventListener('DOMContentLoaded', (event) => {
    //     const creatures = document.querySelectorAll('.list li');
    //     creatures.forEach(creature => {
    //         creature.addEventListener('click', () => {
    //           const description = creature.getAttribute('data-description');
    //           alert(creature.textContent + '：' + description);
    //         });
    //     });
    // });

    
    </script>
</body>
</html>